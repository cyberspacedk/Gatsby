{"version":3,"sources":["webpack:///./src/styles/Grid.js","webpack:///./src/components/ItemGrid/component.js","webpack:///./src/components/LoadingGrid/component.js","webpack:///./src/components/LoadingGrid/styled.js","webpack:///./src/components/HotSlices/component.js","webpack:///./src/components/CurrentlySlicing/component.js","webpack:///./src/utils/useLatestData.js","webpack:///./src/pages/index.js"],"names":["HomeWrapperStyled","styled","div","HomePageGridStyled","ItemsGridStyled","ItemStyled","ItemGrid","items","map","item","className","name","width","height","src","image","asset","url","style","backgroundImage","metadata","lqip","backgroundSize","alt","LoadingGrid","count","Array","from","length","_","i","HotSlices","slices","CurrentlySlicing","masters","gql","String","raw","deetsFragment","HomePage","useState","setSlices","setMasters","useEffect","a","fetch","process","method","headers","body","JSON","stringify","query","response","json","data","StoreSettings","hotSlices","slicemaster","console","log","message","useLatestData"],"mappings":"uIAEaA,EAAoBC,IAAOC,IAAV,8EAAGD,CAAH,8BAOjBE,EAAqBF,IAAOC,IAAV,+EAAGD,CAAH,6EAMlBG,EAAkBH,IAAOC,IAAV,4EAAGD,CAAH,0DAMfI,EAAaJ,IAAOC,IAAV,uEAAGD,CAAH,weCSRK,EA1BE,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAGlB,OACE,kBAACH,EAAD,KACGG,EAAMC,KAAI,SAACC,GAAD,OACT,kBAACJ,EAAD,KACE,2BACE,0BAAMK,UAAU,QAAQD,EAAKE,OAE/B,yBACEC,MAAM,MACNC,OAAO,MACPC,IAAQL,EAAKM,MAAMC,MAAMC,IAAtB,wBACHC,MAAO,CACLC,gBAAgB,OAAQV,EAAKM,MAAMC,MAAMI,SAASC,KAAnC,IACfC,eAAgB,SAElBC,IAAKd,EAAKE,aCEPa,GCtBkBvB,IAAOC,IAAV,gFAAGD,CAAH,2FDGV,SAAC,GAAD,IAAGwB,EAAH,EAAGA,MAAH,OAClB,kBAACrB,EAAD,KACGsB,MAAMC,KAAK,CAAEC,OAAQH,IAAS,SAACI,EAAGC,GAAJ,OAC7B,kBAACzB,EAAD,KACE,2BACE,0BAAMK,UAAU,QAAhB,eAEF,yBACEI,IAAI,iFACJJ,UAAU,UACVa,IAAI,UACJX,MAAM,MACNC,OAAO,eECFkB,EAbG,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAH,OAChB,6BACE,wBAAItB,UAAU,UACZ,0BAAMA,UAAU,QAAhB,eAEF,uDAEEsB,GAAU,kBAAC,EAAD,CAAaP,MAAO,IAC/BO,KAAWA,aAAD,EAACA,EAAQJ,SAAU,mDAC7BI,aAAA,EAAAA,EAAQJ,SAAU,kBAAC,EAAD,CAAUrB,MAAOyB,MCGzBC,EAZU,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,OACvB,6BACE,wBAAIxB,UAAU,UACZ,0BAAMA,UAAU,aAAhB,oBAEF,mEACEwB,GAAW,kBAAC,EAAD,CAAaT,MAAO,IAChCS,KAAYA,aAAD,EAACA,EAASN,SAAU,4DAC/BM,aAAA,EAAAA,EAASN,SAAU,kBAAC,EAAD,CAAUrB,MAAO2B,M,0aCXzC,IAAMC,EAAMC,OAAOC,IACbC,EAAa,kICqBJC,UAfE,WAAO,IAAD,EDOM,WAAO,IAAD,EACLC,qBAArBR,EAD0B,KAClBS,EADkB,OAEHD,qBAAvBN,EAF0B,KAEjBQ,EAFiB,KAwCjC,OApCAC,qBAAU,WACR,sBAAC,sCAAAC,EAAA,+EAE0BC,MAAMC,+DAAoC,CAC/DC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,MAAOjB,EAAF,IAKIG,EAGAA,OAhBhB,cAESe,EAFT,gBAwB0BA,EAASC,OAxBnC,gBAwBWC,EAxBX,EAwBWA,KAxBX,EAyBsCA,EAAKC,cAAhCC,EAzBX,EAyBWA,UAAWC,EAzBtB,EAyBsBA,YAEnBjB,EAAUgB,GACVf,EAAWgB,GA5Bd,kDA8BGC,QAAQC,IAAI,MAAO,KAAEC,SA9BxB,yDAAD,KAiCC,IAEI,CAAC7B,EAAQE,GC9CU4B,GAAnB9B,EADc,KACNE,EADM,KAErB,OACE,kBAAClC,EAAD,KACE,yDACA,iEAEA,kBAACG,EAAD,KACE,kBAAC,EAAD,CAAkB+B,QAASA,IAC3B,kBAAC,EAAD,CAAWF,OAAQA","file":"component---src-pages-index-js-81cf02d7a2467b4bd6ae.js","sourcesContent":["import styled from 'styled-components';\n\nexport const HomeWrapperStyled = styled.div`\n  h1,\n  p {\n    text-align: center;\n  }\n`;\n\nexport const HomePageGridStyled = styled.div`\n  display: grid;\n  gap: 20px;\n  grid-template-columns: repeat(2, minmax(auto, 1fr));\n`;\n\nexport const ItemsGridStyled = styled.div`\n  display: grid;\n  gap: 2rem;\n  grid-template-columns: 1fr 1fr;\n`;\n\nexport const ItemStyled = styled.div`\n  text-align: center;\n  position: relative;\n\n  p {\n    display: block;\n    transform: rotate(-2deg) translateY(-140%);\n    position: absolute;\n    left: 0;\n    width: 100%;\n  }\n\n  @keyframes shine {\n    from {\n      background-position: 1000px 0;\n    }\n    to {\n      background-position: -40px 0;\n    }\n  }\n\n  img {\n    display: block;\n    width: 100%;\n    height: auto;\n    font-size: 0;\n\n    &.loading {\n      --shine: white;\n      --background: var(--grey);\n      background-image: linear-gradient(\n        90deg,\n        var(--background) 0px,\n        var(--shine) 40px,\n        var(--background) 80px\n      );\n      animation: shine 3s infinite linear;\n    }\n  }\n\n  .mark {\n    display: inline;\n  }\n`;\n","import React from 'react';\n\nimport { ItemsGridStyled, ItemStyled } from '../../styles/Grid';\n\nconst ItemGrid = ({ items }) => {\n  const r = 5;\n\n  return (\n    <ItemsGridStyled>\n      {items.map((item) => (\n        <ItemStyled>\n          <p>\n            <span className=\"mark\">{item.name}</span>\n          </p>\n          <img\n            width=\"500\"\n            height=\"400\"\n            src={`${item.image.asset.url}?w=500&h=400&fit=crop`}\n            style={{\n              backgroundImage: `url(${item.image.asset.metadata.lqip})`,\n              backgroundSize: 'cover',\n            }}\n            alt={item.name}\n          />\n        </ItemStyled>\n      ))}\n    </ItemsGridStyled>\n  );\n};\n\nexport default ItemGrid;\n","import React from 'react';\n\nimport { ItemsGridStyled, ItemStyled } from '../../styles/Grid';\nimport {} from './styled';\n\nconst LoadingGrid = ({ count }) => (\n  <ItemsGridStyled>\n    {Array.from({ length: count }, (_, i) => (\n      <ItemStyled>\n        <p>\n          <span className=\"mark\">Loading...</span>\n        </p>\n        <img\n          src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n          className=\"loading\"\n          alt=\"Loading\"\n          width=\"500\"\n          height=\"400\"\n        />\n      </ItemStyled>\n    ))}\n  </ItemsGridStyled>\n);\n\nexport default LoadingGrid;\n","import styled from 'styled-components';\n\nexport const SliceMasterStyled = styled.div`\n  display: grid;\n  grid-gap: 2rem;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n`;\n","import React from 'react';\n\nimport ItemGrid from '../ItemGrid';\nimport LoadingGrid from '../LoadingGrid';\n\nconst HotSlices = ({ slices }) => (\n  <div>\n    <h2 className=\"center\">\n      <span className=\"mark\">Hot slices</span>\n    </h2>\n    <p>Come on, buy the slice!</p>\n\n    {!slices && <LoadingGrid count={4} />}\n    {slices && !slices?.length && <p>Nothing in the Case</p>}\n    {slices?.length && <ItemGrid items={slices} />}\n  </div>\n);\n\nexport default HotSlices;\n","import React from 'react';\n\nimport LoadingGrid from '../LoadingGrid';\nimport ItemGrid from '../ItemGrid';\n\nconst CurrentlySlicing = ({ masters }) => (\n  <div>\n    <h2 className=\"center\">\n      <span className=\"mark tilt\">Slicemasters On</span>\n    </h2>\n    <p>Standing by, ready to slice you up!</p>\n    {!masters && <LoadingGrid count={4} />}\n    {masters && !masters?.length && <p>No one is working right now!</p>}\n    {masters?.length && <ItemGrid items={masters} />}\n  </div>\n);\n\nexport default CurrentlySlicing;\n","import { useState, useEffect } from 'react';\n\nconst gql = String.raw;\nconst deetsFragment = ` \n    _id\n    name\n    image {\n      asset {\n        url\n        metadata {\n          lqip\n        }\n      }\n    } \n`;\n\nexport const useLatestData = () => {\n  const [slices, setSlices] = useState();\n  const [masters, setMasters] = useState();\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await fetch(process.env.GATSBY_SANITY_ENDPOINT, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            query: gql`\n              query {\n                StoreSettings(id: \"downtown\") {\n                  name\n                  slicemaster {\n                   ${deetsFragment}\n                  }\n                  hotSlices {\n                   ${deetsFragment}\n                  }\n                }\n              }\n            `,\n          }),\n        });\n\n        const { data } = await response.json();\n        const { hotSlices, slicemaster } = data.StoreSettings;\n\n        setSlices(hotSlices);\n        setMasters(slicemaster);\n      } catch (e) {\n        console.log('Err', e.message);\n      }\n    })();\n  }, []);\n\n  return [slices, masters];\n};\n","import React from 'react';\n\nimport HotSlices from '../components/HotSlices';\nimport CurrentlySlicing from '../components/CurrentlySlicing';\n\nimport { useLatestData } from '../utils/useLatestData';\n\nimport { HomeWrapperStyled, HomePageGridStyled } from '../styles/Grid';\n\nconst HomePage = () => {\n  const [slices, masters] = useLatestData();\n  return (\n    <HomeWrapperStyled>\n      <h1>The best Pizza Downtown! </h1>\n      <p>Open 11am to 11pm Every Single Day</p>\n\n      <HomePageGridStyled>\n        <CurrentlySlicing masters={masters} />\n        <HotSlices slices={slices} />\n      </HomePageGridStyled>\n    </HomeWrapperStyled>\n  );\n};\n\nexport default HomePage;\n"],"sourceRoot":""}